# ========== ENVIRONMENT CONFIGURATION ==========
APP_ENV=development
APP_DEBUG=true
APP_TIMEZONE=America/Sao_Paulo
APP_LOG_LEVEL=INFO

# ========== SPOTIFY API CONFIGURATION ==========
SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here
SPOTIFY_REDIRECT_URI=http://localhost:8888/callback
SPOTIFY_USER_ID=your_spotify_user_id_optional

# ========== KAFKA CONFIGURATION ==========
KAFKA_BOOTSTRAP_SERVERS=kafka:9092,localhost:29092
KAFKA_TOPIC=spotify-plays
KAFKA_TOPIC_SPOTIFY_STREAMS=spotify-streams
KAFKA_TOPIC_SPOTIFY_PLAYLISTS=spotify-playlists
KAFKA_GROUP_ID_CONSUMER=spotify-consumer-group
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_CLIENT_ID=spotify-data-pipeline

# ========== MINIO CONFIGURATION ==========
MINIO_ENDPOINT=http://minio:9000
MINIO_EXTERNAL_ENDPOINT=http://localhost:9002
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET=spotify-data
MINIO_BUCKET_RAW=spotify-raw
MINIO_BUCKET_PROCESSED=spotify-processed
MINIO_BUCKET_CURATED=spotify-curated
MINIO_SECURE_CONNECTION=false
MINIO_REGION=us-east-1

# ========== DATABASE CONFIGURATION ==========

# PostgreSQL (Airflow)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow123
POSTGRES_DB=airflow
POSTGRES_SCHEMA=airflow

# MySQL (Metabase)
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=spotify123
MYSQL_DATABASE=spotify_analytics
MYSQL_ROOT_PASSWORD=spotify123
MYSQL_CHARSET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci

# Snowflake (Data Warehouse)
SNOWFLAKE_ACCOUNT=your-account.snowflakecomputing.com
SNOWFLAKE_USER=your-username
SNOWFLAKE_PASSWORD=your-password
SNOWFLAKE_WAREHOUSE=COMPUTE_WH
SNOWFLAKE_DATABASE=SPOTIFY_ANALYTICS
SNOWFLAKE_SCHEMA=PUBLIC
SNOWFLAKE_ROLE=SYSADMIN

# ========== AIRFLOW CONFIGURATION ==========
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=false
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__CORE__BASE_LOG_FOLDER=/opt/airflow/logs
AIRFLOW__CORE__DEFAULT_TIMEZONE=America/Sao_Paulo
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=true
AIRFLOW__WEBSERVER__WORKERS=4
AIRFLOW__SCHEDULER__CATCHUP_BY_DEFAULT=false
AIRFLOW__SCHEDULER__MAX_TIS_PER_QUERY=512
AIRFLOW__LOGGING__REMOTE_LOGGING=true
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__SNOWFLAKE__SNOWFLAKE_CONN_ID=snowflake_default

# Airflow Admin
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_FIRSTNAME=Data
AIRFLOW_ADMIN_LASTNAME=Engineer
AIRFLOW_ADMIN_EMAIL=admin@spotify-analytics.com
AIRFLOW_ADMIN_PASSWORD=admin123

# ========== DATA SIMULATION CONFIGURATION ==========
SIMULATION_RATE=5
SIMULATION_DURATION_MINUTES=60
PRODUCER_USER_COUNT=100
PRODUCER_EVENT_INTERVAL_MS=200
PRODUCER_MAX_EVENTS=0
PRODUCER_ENABLE_BRAZILIAN_ARTISTS=true
PRODUCER_ENABLE_USER_BEHAVIOR_PATTERNS=true

# ========== DATA CONSUMER CONFIGURATION ==========
CONSUMER_BATCH_SIZE=100
CONSUMER_BATCH_TIMEOUT_SECONDS=30
CONSUMER_MAX_RETRY_ATTEMPTS=3
CONSUMER_POLL_TIMEOUT_MS=1000

# ========== DATA PROCESSING CONFIGURATION ==========
DATA_BATCH_SIZE=1000
DATA_PROCESSING_CHUNK_SIZE=10000
DATA_RETENTION_DAYS_RAW=30
DATA_RETENTION_DAYS_PROCESSED=90
DATA_RETENTION_DAYS_CURATED=365
DATA_VALIDATION_ENABLED=true

# ========== DATA LAKE PATHS ==========
DATA_LAKE_BASE_PATH=s3a://spotify-raw
BRONZE_LAYER_PATH=bronze
SILVER_LAYER_PATH=silver
GOLD_LAYER_PATH=gold
FILE_FORMAT=parquet
COMPRESSION_TYPE=snappy

# ========== METABASE CONFIGURATION ==========
MB_DB_TYPE=mysql
MB_DB_HOST=mysql
MB_DB_PORT=3306
MB_DB_DBNAME=spotify_analytics
MB_DB_USER=root
MB_DB_PASS=spotify123
MB_SITE_NAME=Spotify Analytics Dashboard
MB_ANONYMOUS_TRACKING_ENABLED=false
MB_ENABLE_PUBLIC_SHARING=false
MB_ANALYTICS_COLLECTION_ENABLED=false

# ========== SPARK CONFIGURATION ==========
SPARK_MASTER=spark://spark-master:7077
SPARK_DRIVER_MEMORY=2g
SPARK_EXECUTOR_MEMORY=1g
SPARK_EXECUTOR_CORES=2
SPARK_SQL_WAREHOUSE_DIR=/opt/spark/warehouse
SPARK_SQL_SOURCES_PARTITION_OVERWRITE_MODE=dynamic
SPARK_SHUFFLE_PARTITIONS=10

# ========== MONITORING CONFIGURATION ==========
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
METRICS_ENABLED=true
HEALTH_CHECK_PORT=8080

# ========== SECURITY CONFIGURATION ==========
JWT_SECRET_KEY=your_jwt_secret_key_for_auth
ENCRYPTION_KEY=your_data_encryption_key
SSL_ENABLED=false

# ========== EXTERNAL APIs (Optional) ==========
LASTFM_API_KEY=your_lastfm_api_key_optional
MUSIXMATCH_API_KEY=your_musixmatch_api_key_optional
GENIUS_API_KEY=your_genius_api_key_optional

# ========== PERFORMANCE CONFIGURATION ==========
MAX_CONCURRENT_PROCESSES=4
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
CACHE_TTL_SECONDS=300

# ========== FEATURE FLAGS ==========
FEATURE_REALTIME_PROCESSING=true
FEATURE_DATA_QUALITY_CHECKS=true
FEATURE_ANOMALY_DETECTION=false
FEATURE_AUTO_SCALING=false